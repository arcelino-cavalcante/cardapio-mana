<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- PWA Meta Tags -->
    <title>Cardápio Maná</title>
    <meta name="theme-color" content="#f97316" />
    <link rel="apple-touch-icon" href="https://placehold.co/192x192/000000/f97316?text=Man%C3%A1">
    <link rel="manifest" href="manifest.json">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Titan+One&display=swap"
        rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 84px;
            /* Altura do cabeçalho principal */
        }

        @media (min-width: 768px) {
            html {
                scroll-padding-top: 140px;
                /* Altura do cabeçalho combinado no desktop */
            }
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #000000;
        }

        .brand-title {
            font-family: 'Titan One', cursive;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }

        ::-webkit-scrollbar-thumb {
            background: #f97316;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #ea580c;
        }

        .category-title {
            background: linear-gradient(to right, #f97316, #fb923c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-bg {
            background-color: #111111;
        }

        .header-bg {
            background-color: #111111;
        }

        #category-nav-container::-webkit-scrollbar {
            display: none;
        }

        #category-nav-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .category-link.active {
            color: #f97316;
            border-bottom: 2px solid #f97316;
        }

        .bottom-nav-btn.active {
            color: #f97316;
        }

        #category-modal,
        #ios-install-modal {
            transition: opacity 0.3s ease-in-out;
        }

        #category-modal-content,
        #ios-install-modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>

<body class="text-white pb-24 md:pb-0">

    <!-- Botão de Instalação PWA -->
    <button id="install-app-btn"
        class="hidden fixed top-20 right-4 bg-orange-500 text-white py-2 px-4 rounded-full shadow-lg z-50 animate-pulse">
        <i class="fas fa-download mr-2"></i>
        Instalar App
    </button>

    <!-- Tela do Cardápio -->
    <div id="menu-page">
        <header class="header-bg shadow-lg sticky top-0 z-20">
            <!-- Cabeçalho Principal -->
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-utensils text-orange-500 text-3xl"></i>
                    <h1 class="text-2xl font-bold brand-title text-orange-500">Maná Snack House</h1>
                </div>
                <button id="header-view-order-btn"
                    class="hidden md:flex bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full items-center space-x-2 transition-transform transform hover:scale-105">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Ver Pedido</span>
                    <span id="header-cart-count"
                        class="bg-red-600 text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
            </div>
            <!-- Navegação de Categorias (Desktop) -->
            <nav id="category-nav" class="hidden md:block bg-black shadow-md">
                <div id="category-nav-container" class="container mx-auto px-6 py-3 overflow-x-auto whitespace-nowrap">
                    <a href="#hamburgueres"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Hambúrgueres</a>
                    <a href="#sanduiches"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Sanduíches</a>
                    <a href="#pasteis"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Pastéis</a>
                    <a href="#porcoes"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Porções</a>
                    <a href="#combos"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Combos</a>
                    <a href="#sobremesas"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Sobremesas</a>
                    <a href="#bebidas"
                        class="category-link text-gray-300 hover:text-orange-400 px-4 py-2 transition-colors duration-300">Bebidas</a>
                </div>
            </nav>
        </header>

        <main class="container mx-auto p-4 md:p-6">
            <!-- Categorias -->
            <div id="menu-items">
                <!-- Hambúrgueres -->
                <div id="hamburgueres" class="pt-4 pb-12 mb-12 border-b border-orange-900/50">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Hambúrgueres
                    </h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Hambúrguer Especial Maná
                                </h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Hambúrguer, mussarela, molho
                                    BBQ, salada, molho de queijos.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 10,00</span>
                                    <button onclick="addToOrder('Hambúrguer Especial Maná', 10.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Maná Artesanal Carne
                                </h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Carne artesanal, queijo
                                    cheddar, bacon, molho BBQ, salada, molho de queijos e ervas.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 20,00</span>
                                    <button onclick="addToOrder('Maná Artesanal Carne', 20.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Maná Crispy</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Peito de frango, queijo
                                    cheddar, Bacon, cebola caramelizada, molho de queijo salada.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 18,00</span>
                                    <button onclick="addToOrder('Maná Crispy', 18.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Monster Maná</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Carne artesanal, ovo, bacon,
                                    cheddar, mussarela, cebola caramelizada, salada, molho BBQ.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 24,90</span>
                                    <button onclick="addToOrder('Monster Maná', 24.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">BBQ Bacon</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Carne artesanal, molho
                                    barbecue, queijo cheddar, bacon, cebolas caramelizadas, molho Gorgonzola.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 20,00</span>
                                    <button onclick="addToOrder('BBQ Bacon', 20.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Maná Smash</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Carne, queijo, mussarela,
                                    cebola caramelizada, molho barbecue, molho queijo gorgonzola.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 20,00</span>
                                    <button onclick="addToOrder('Maná Smash', 20.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Duplo Cheese</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">2 carnes, queijo cheddar,
                                    mussarela, cebola caramelizada, bacon, Billy & Jack.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 20,00</span>
                                    <button onclick="addToOrder('Duplo Cheese', 20.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Hamb%C3%BArguer"
                                alt="Imagem de Hambúrguer" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Cheese Rico</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Hambúrguer de Queijos e
                                    especiarias do mediterrâneo itália.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 18,00</span>
                                    <button onclick="addToOrder('Cheese Rico', 18.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Sanduíches -->
                <div id="sanduiches" class="pt-4 pb-12 mb-12 border-b border-orange-900/50">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Sanduíches</h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sandu%C3%ADche"
                                alt="Imagem de Sanduíche" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Costela Californiana
                                </h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Sanduíche de 30cm 100%
                                    artesanal.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 24,90</span>
                                    <button onclick="addToOrder('Costela Californiana', 24.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sandu%C3%ADche"
                                alt="Imagem de Sanduíche" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Frango Texano</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Sanduíche de 30cm 100%
                                    artesanal.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 24,90</span>
                                    <button onclick="addToOrder('Frango Texano', 24.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Pasteis -->
                <div id="pasteis" class="pt-4 pb-12 mb-12 border-b border-orange-900/50">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Pastéis</h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Pastel" alt="Imagem de Pastel"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Pastel de Carne</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Delicioso pastel com recheio
                                    de carne.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 14,00</span>
                                    <button onclick="addToOrder('Pastel de Carne', 14.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Porções -->
                <div id="porcoes" class="pt-4 pb-12 mb-12 border-b border-orange-900/50">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Porções</h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Porção" alt="Imagem de Porção"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Batata Frita Média</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Uma porção generosa de
                                    batatas fritas crocantes.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 10,00</span>
                                    <button onclick="addToOrder('Batata Frita Média', 10.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Combos -->
                <div id="combos" class="pt-4 pb-12 mb-12 border-b border-orange-900/50">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Combos</h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Combo" alt="Imagem de Combo"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">#01 Especial Maná</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Hambúrguer + Batata chips +
                                    Refrigerante copo.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 12,00</span>
                                    <button onclick="addToOrder('#01 Especial Maná', 12.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Combo" alt="Imagem de Combo"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">#02 Duplo Cheese</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Duplo Cheese + Ks + Batata
                                    Chips.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 28,00</span>
                                    <button onclick="addToOrder('#02 Duplo Cheese', 28.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Combo" alt="Imagem de Combo"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">#04 Pastel</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Pastel + Refrigerante
                                    coca-cola ks.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 18,00</span>
                                    <button onclick="addToOrder('#04 Pastel', 18.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Combo" alt="Imagem de Combo"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">#06 Duplo Maná</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">2 Hambúrguer + Porção batata
                                    G + 2 Refrigerantes Ks.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 40,00</span>
                                    <button onclick="addToOrder('#06 Duplo Maná', 40.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Sobremesas -->
                <div id="sobremesas" class="pt-4 pb-12 mb-12 border-b border-orange-900/50">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Sobremesas</h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sobremesa"
                                alt="Imagem de Sobremesa" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Pudim</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Pudim de leite condensado
                                    cremoso e delicioso.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 10,00</span>
                                    <button onclick="addToOrder('Pudim', 10.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sobremesa"
                                alt="Imagem de Sobremesa" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Maná no Pote</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Deliciosa sobremesa cremosa
                                    servida no pote.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 12,90</span>
                                    <button onclick="addToOrder('Maná no Pote', 12.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sobremesa"
                                alt="Imagem de Sobremesa" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Maná Brownie</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Brownie de chocolate com
                                    sorvete.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 12,90</span>
                                    <button onclick="addToOrder('Maná Brownie', 12.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sobremesa"
                                alt="Imagem de Sobremesa" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Manazão 300ml</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Sobremesa gelada (chocolate,
                                    doce de leite, morango, maracujá).</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 12,00</span>
                                    <button onclick="addToOrder('Manazão 300ml', 12.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Sobremesa"
                                alt="Imagem de Sobremesa" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Manazinho 200ml</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Sobremesa gelada (chocolate,
                                    doce de leite, morango, maracujá).</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 8,90</span>
                                    <button onclick="addToOrder('Manazinho 200ml', 8.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=A%C3%A7a%C3%AD"
                                alt="Imagem de Açaí" class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Manáçaí</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">O melhor açaí da região,
                                    cremoso e saboroso.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 12,90</span>
                                    <button onclick="addToOrder('Manáçaí', 12.90)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Bebidas -->
                <div id="bebidas" class="pt-4">
                    <h2 class="text-3xl font-bold mb-6 border-l-4 border-orange-500 pl-4 category-title">Bebidas</h2>
                    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="card-bg rounded-lg shadow-lg overflow-hidden flex flex-col">
                            <img src="https://placehold.co/600x400/000000/f97316?text=Bebida" alt="Imagem de Bebida"
                                class="w-full h-32 md:h-48 object-cover">
                            <div class="p-3 md:p-4 flex flex-col flex-grow">
                                <h3 class="font-bold text-base md:text-xl mb-1 text-orange-400">Refrigerante Lata</h3>
                                <p class="text-gray-400 text-xs md:text-sm mb-2 flex-grow">Escolha entre Coca-cola,
                                    Guaraná, etc.</p>
                                <div class="flex justify-between items-center mt-2">
                                    <span class="font-bold text-md md:text-lg">R$ 6,00</span>
                                    <button onclick="addToOrder('Refrigerante Lata', 6.00)"
                                        class="bg-orange-500 text-white px-3 py-1 md:px-4 md:py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm md:text-base"><i
                                            class="fas fa-plus md:mr-2"></i><span
                                            class="hidden md:inline">Adicionar</span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Tela do Pedido -->
    <div id="order-page" class="hidden">
        <div class="container mx-auto p-6">
            <div class="card-bg rounded-lg shadow-2xl p-8 max-w-2xl mx-auto">
                <div class="flex items-center mb-6">
                    <i class="fas fa-receipt text-orange-500 text-3xl mr-4"></i>
                    <h2 class="text-3xl font-bold text-white">Meu Pedido</h2>
                </div>
                <div id="order-items-list" class="space-y-4 mb-6 max-h-60 overflow-y-auto pr-2"></div>
                <div class="border-t border-gray-700 pt-4 space-y-2 text-lg">
                    <div class="flex justify-between"><span class="text-gray-400">Subtotal:</span><span id="subtotal"
                            class="font-semibold">R$ 0,00</span></div>
                    <div class="flex justify-between"><span class="text-gray-400">Taxa de Entrega:</span><span
                            id="delivery-fee" class="font-semibold">R$ 0,00</span></div>
                    <div class="flex justify-between text-2xl font-bold text-orange-400"><span>Total:</span><span
                            id="total-price">R$ 0,00</span></div>
                </div>
                <div class="mt-8 border-t border-gray-700 pt-6">
                    <h3 class="text-2xl font-semibold mb-4 text-white">Detalhes da Entrega</h3>
                    <div class="space-y-4">
                        <div>
                            <label for="delivery-option" class="block mb-2 text-sm font-medium text-gray-300">Opção de
                                Entrega</label>
                            <select id="delivery-option"
                                class="bg-gray-800 border border-gray-600 text-white text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
                                <option value="local">Retirar no Local</option>
                                <option value="vila_neves">Vila Neves</option>
                                <option value="sitio">Sítio</option>
                            </select>
                        </div>
                        <div id="sitio-selection" class="hidden">
                            <label for="sitio-list" class="block mb-2 text-sm font-medium text-gray-300">Selecione o
                                Sítio</label>
                            <select id="sitio-list"
                                class="bg-gray-800 border border-gray-600 text-white text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
                                <option value="0">Selecione...</option>
                                <option value="5">Sítio A - R$ 5,00</option>
                                <option value="7">Sítio B - R$ 7,00</option>
                                <option value="10">Sítio C - R$ 10,00</option>
                            </select>
                        </div>
                        <div>
                            <label for="address" class="block mb-2 text-sm font-medium text-gray-300">Local ou Ponto de
                                Referência</label>
                            <input type="text" id="address"
                                class="bg-gray-800 border border-gray-600 text-white text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5"
                                placeholder="Ex: Rua Principal, 123">
                        </div>
                        <div>
                            <label for="client-name" class="block mb-2 text-sm font-medium text-gray-300">Seu
                                Nome</label>
                            <input type="text" id="client-name"
                                class="bg-gray-800 border border-gray-600 text-white text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5"
                                placeholder="Como podemos te chamar?">
                        </div>
                    </div>
                </div>
                <div class="mt-8 pt-6 border-t border-gray-700 flex flex-col sm:flex-row gap-4 justify-end">
                    <button id="add-more-btn"
                        class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full sm:w-auto"><i
                            class="fas fa-plus mr-2"></i>Adicionar Mais</button>
                    <button id="cancel-order-btn"
                        class="bg-red-700 hover:bg-red-800 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full sm:w-auto"><i
                            class="fas fa-times mr-2"></i>Cancelar Pedido</button>
                    <button id="submit-order-btn"
                        class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full sm:w-auto"><i
                            class="fab fa-whatsapp mr-2"></i>Enviar Pedido</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div id="confirmation-modal"
        class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center">
        <div class="card-bg rounded-lg shadow-xl p-8 max-w-sm mx-auto text-center">
            <div class="text-green-400 mb-4"><i class="fas fa-check-circle fa-4x"></i></div>
            <h3 class="text-2xl font-bold mb-2">Pedido Enviado!</h3>
            <p class="text-gray-300 mb-6">Seu pedido foi enviado com sucesso. Em breve entraremos em contato!</p>
            <button id="close-modal-btn"
                class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg">Fechar</button>
        </div>
    </div>

    <!-- Menu Inferior (Mobile) -->
    <div id="bottom-nav"
        class="md:hidden fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-orange-800 flex justify-around items-center p-2 z-30">
        <button id="bottom-nav-menu"
            class="bottom-nav-btn flex flex-col items-center text-gray-300 hover:text-orange-500 transition-colors active">
            <i class="fas fa-utensils text-xl"></i><span class="text-xs mt-1">Cardápio</span>
        </button>
        <button id="bottom-nav-categories"
            class="bottom-nav-btn flex flex-col items-center text-gray-300 hover:text-orange-500 transition-colors">
            <i class="fas fa-list-ul text-xl"></i><span class="text-xs mt-1">Categorias</span>
        </button>
        <button id="bottom-nav-order"
            class="bottom-nav-btn flex flex-col items-center text-gray-300 hover:text-orange-500 transition-colors relative">
            <i class="fas fa-shopping-cart text-xl"></i><span class="text-xs mt-1">Ver Pedido</span>
            <span id="bottom-cart-count"
                class="absolute -top-1 -right-1 bg-red-600 text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center">0</span>
        </button>
    </div>

    <!-- Modal de Categorias (Mobile) -->
    <div id="category-modal" class="hidden fixed inset-0 bg-black/70 z-40">
        <div id="category-modal-content"
            class="absolute bottom-0 left-0 right-0 bg-gray-900 rounded-t-2xl p-6 transform translate-y-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-orange-400">Categorias</h3>
                <button id="close-category-modal" class="text-2xl">&times;</button>
            </div>
            <div class="flex flex-col space-y-4">
                <a href="#hamburgueres"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Hambúrgueres</a>
                <a href="#sanduiches"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Sanduíches</a>
                <a href="#pasteis"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Pastéis</a>
                <a href="#porcoes"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Porções</a>
                <a href="#combos"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Combos</a>
                <a href="#sobremesas"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Sobremesas</a>
                <a href="#bebidas"
                    class="modal-category-link text-lg text-gray-300 hover:text-orange-500 py-2">Bebidas</a>
            </div>
        </div>
    </div>

    <!-- Modal de Instruções de Instalação iOS -->
    <div id="ios-install-modal" class="hidden fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4">
        <div id="ios-install-modal-content"
            class="bg-gray-800 rounded-2xl p-6 text-center max-w-sm transform opacity-0 scale-95">
            <h3 class="text-xl font-bold text-orange-400 mb-4">Instalar no iPhone</h3>
            <p class="text-gray-300 mb-4">Para instalar, toque no ícone de <i class="fas fa-share-square"></i>
                (Compartilhar) na barra do navegador.</p>
            <p class="text-gray-300 mb-6">Depois, selecione <span class="font-semibold">"Adicionar à Tela de
                    Início"</span>.</p>
            <button id="close-ios-modal" class="bg-orange-500 text-white py-2 px-6 rounded-full">Entendi</button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Lógica PWA ---
            const manifest = {
                "name": "Cardápio Maná",
                "short_name": "Maná",
                "start_url": "./",
                "display": "standalone",
                "background_color": "#000000",
                "theme_color": "#f97316",
                "description": "Cardápio Digital do Maná Snack House",
                "icons": [{
                    "src": "https://placehold.co/192x192/000000/f97316?text=Man%C3%A1",
                    "sizes": "192x192",
                    "type": "image/png"
                }, {
                    "src": "https://placehold.co/512x512/000000/f97316?text=Man%C3%A1",
                    "sizes": "512x512",
                    "type": "image/png"
                }]
            };

            const manifestString = JSON.stringify(manifest);
            const manifestBlob = new Blob([manifestString], { type: 'application/json' });
            const manifestUrl = URL.createObjectURL(manifestBlob);
            const link = document.querySelector('link[rel="manifest"]') || document.createElement('link');
            link.rel = 'manifest';
            link.href = manifestUrl;
            document.head.appendChild(link);

            let deferredPrompt;
            const installBtn = document.getElementById('install-app-btn');
            const iosInstallModal = document.getElementById('ios-install-modal');
            const iosInstallModalContent = document.getElementById('ios-install-modal-content');
            const closeIosModalBtn = document.getElementById('close-ios-modal');

            // Oculta o botão se o app já estiver rodando em modo PWA
            if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone) {
                installBtn.classList.add('hidden');
            }

            function isIOS() {
                return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            }

            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                if (!window.matchMedia('(display-mode: standalone)').matches && !window.navigator.standalone) {
                    if (!isIOS()) {
                        installBtn.classList.remove('hidden');
                    }
                }
            });

            if (isIOS() && !window.navigator.standalone) {
                installBtn.classList.remove('hidden');
                installBtn.onclick = () => {
                    iosInstallModal.classList.remove('hidden');
                    requestAnimationFrame(() => {
                        iosInstallModal.classList.remove('opacity-0');
                        iosInstallModalContent.classList.remove('scale-95', 'opacity-0');
                    });
                };
            } else {
                installBtn.addEventListener('click', (e) => {
                    installBtn.classList.add('hidden');
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then((choiceResult) => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('Usuário aceitou a instalação');
                            } else {
                                console.log('Usuário recusou a instalação');
                            }
                            deferredPrompt = null;
                        });
                    }
                });
            }

            closeIosModalBtn.addEventListener('click', () => {
                iosInstallModal.classList.add('opacity-0');
                iosInstallModalContent.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    iosInstallModal.classList.add('hidden');
                }, 300);
            });


            // --- Lógica do Cardápio ---
            let orderItems = [];
            let deliveryFee = 0;

            const menuPage = document.getElementById('menu-page');
            const orderPage = document.getElementById('order-page');
            const headerViewOrderBtn = document.getElementById('header-view-order-btn');
            const addMoreBtn = document.getElementById('add-more-btn');
            const cancelOrderBtn = document.getElementById('cancel-order-btn');
            const submitOrderBtn = document.getElementById('submit-order-btn');
            const headerCartCount = document.getElementById('header-cart-count');
            const bottomCartCount = document.getElementById('bottom-cart-count');
            const orderItemsList = document.getElementById('order-items-list');
            const subtotalEl = document.getElementById('subtotal');
            const deliveryFeeEl = document.getElementById('delivery-fee');
            const totalPriceEl = document.getElementById('total-price');
            const deliveryOption = document.getElementById('delivery-option');
            const sitioSelection = document.getElementById('sitio-selection');
            const sitioList = document.getElementById('sitio-list');
            const confirmationModal = document.getElementById('confirmation-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const bottomNavMenuBtn = document.getElementById('bottom-nav-menu');
            const bottomNavCategoriesBtn = document.getElementById('bottom-nav-categories');
            const bottomNavOrderBtn = document.getElementById('bottom-nav-order');
            const categoryModal = document.getElementById('category-modal');
            const categoryModalContent = document.getElementById('category-modal-content');
            const closeCategoryModalBtn = document.getElementById('close-category-modal');
            const modalCategoryLinks = document.querySelectorAll('.modal-category-link');
            const sections = document.querySelectorAll('#menu-items > div');
            const navLinks = document.querySelectorAll('#category-nav a');

            window.showPage = function (pageId) {
                const isMenu = pageId === 'menu-page';
                menuPage.classList.toggle('hidden', !isMenu);
                orderPage.classList.toggle('hidden', isMenu);
                updateBottomNavActiveState(isMenu ? 'menu' : 'order');
                window.scrollTo(0, 0);
            }

            function formatCurrency(value) {
                return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
            }

            window.addToOrder = function (itemName, itemPrice) {
                const existingItem = orderItems.find(item => item.name === itemName);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    orderItems.push({ name: itemName, price: itemPrice, quantity: 1 });
                }
                updateCart();
                showToast(`${itemName} adicionado ao pedido!`);
            }

            window.removeFromOrder = function (itemName) {
                const itemIndex = orderItems.findIndex(item => item.name === itemName);
                if (itemIndex > -1) {
                    if (orderItems[itemIndex].quantity > 1) {
                        orderItems[itemIndex].quantity--;
                    } else {
                        orderItems.splice(itemIndex, 1);
                    }
                }
                updateCart();
            }

            function updateCart() {
                updateCartCount();
                updateOrderView();
            }

            function updateCartCount() {
                const totalItems = orderItems.reduce((sum, item) => sum + item.quantity, 0);
                headerCartCount.textContent = totalItems;
                bottomCartCount.textContent = totalItems;
                headerCartCount.classList.toggle('hidden', totalItems === 0);
                bottomCartCount.classList.toggle('hidden', totalItems === 0);
            }

            function updateOrderView() {
                if (orderItems.length === 0) {
                    orderItemsList.innerHTML = '<p class="text-gray-400 text-center">Seu carrinho está vazio.</p>';
                } else {
                    orderItemsList.innerHTML = orderItems.map(item => `
                    <div class="flex justify-between items-center bg-gray-800 p-3 rounded-lg">
                        <div>
                            <p class="font-semibold">${item.name}</p>
                            <p class="text-sm text-gray-400">${formatCurrency(item.price)}</p>
                        </div>
                        <div class="flex items-center gap-3">
                             <span class="font-bold">${item.quantity}x</span>
                             <button onclick="removeFromOrder('${item.name}')" class="text-red-500 hover:text-red-400 text-lg">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
                }
                calculateTotal();
            }

            function calculateTotal() {
                const subtotal = orderItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const option = deliveryOption.value;
                if (option === 'vila_neves') {
                    deliveryFee = 2.00;
                    sitioSelection.classList.add('hidden');
                } else if (option === 'sitio') {
                    sitioSelection.classList.remove('hidden');
                    deliveryFee = parseFloat(sitioList.value) || 0;
                } else {
                    deliveryFee = 0;
                    sitioSelection.classList.add('hidden');
                }
                const total = subtotal + deliveryFee;
                subtotalEl.textContent = formatCurrency(subtotal);
                deliveryFeeEl.textContent = formatCurrency(deliveryFee);
                totalPriceEl.textContent = formatCurrency(total);
            }

            function generateWhatsAppMessage() {
                if (orderItems.length === 0) {
                    alert("Seu carrinho está vazio!");
                    return;
                }
                const clientName = document.getElementById('client-name').value;
                const address = document.getElementById('address').value;
                const deliveryType = deliveryOption.options[deliveryOption.selectedIndex].text;
                if (!clientName) {
                    alert("Por favor, informe seu nome.");
                    return;
                }
                if (deliveryOption.value !== 'local' && !address) {
                    alert("Por favor, informe o endereço ou ponto de referência.");
                    return;
                }
                if (deliveryOption.value === 'sitio' && sitioList.value === '0') {
                    alert("Por favor, selecione o sítio para entrega.");
                    return;
                }
                let message = `*Olá, Maná Snack House! Gostaria de fazer um pedido.*\n\n`;
                message += `*Cliente:* ${clientName}\n\n`;
                message += `*Itens do Pedido:*\n`;
                orderItems.forEach(item => {
                    message += `- ${item.quantity}x ${item.name} (${formatCurrency(item.price * item.quantity)})\n`;
                });
                message += `\n*Subtotal:* ${subtotalEl.textContent}\n`;
                message += `*Taxa de Entrega:* ${deliveryFeeEl.textContent}\n`;
                message += `*Total:* ${totalPriceEl.textContent}\n\n`;
                message += `*Forma de Entrega:* ${deliveryType}\n`;
                if (deliveryOption.value === 'sitio') {
                    message += `*Sítio:* ${sitioList.options[sitioList.selectedIndex].text.split('-')[0].trim()}\n`;
                }
                if (deliveryOption.value !== 'local') {
                    message += `*Endereço/Referência:* ${address}\n`;
                }
                message += `\nObrigado!`;
                return encodeURIComponent(message);
            }

            function showToast(message) {
                const toast = document.createElement('div');
                toast.className = 'fixed bottom-28 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg animate-bounce';
                toast.textContent = message;
                document.body.appendChild(toast);
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }

            function toggleCategoryModal(show) {
                if (show) {
                    categoryModal.classList.remove('hidden');
                    requestAnimationFrame(() => {
                        categoryModal.classList.remove('opacity-0');
                        categoryModalContent.classList.remove('translate-y-full');
                    });
                } else {
                    categoryModal.classList.add('opacity-0');
                    categoryModalContent.classList.add('translate-y-full');
                    setTimeout(() => {
                        categoryModal.classList.add('hidden');
                    }, 300);
                }
            }

            function updateBottomNavActiveState(activeState) {
                bottomNavMenuBtn.classList.toggle('active', activeState === 'menu');
                bottomNavCategoriesBtn.classList.toggle('active', activeState === 'categories');
                bottomNavOrderBtn.classList.toggle('active', activeState === 'order');
            }

            headerViewOrderBtn.addEventListener('click', () => showPage('order-page'));
            addMoreBtn.addEventListener('click', () => showPage('menu-page'));
            cancelOrderBtn.addEventListener('click', () => {
                if (confirm('Tem certeza que deseja cancelar o pedido e limpar seu carrinho?')) {
                    orderItems = [];
                    updateCart();
                    showPage('menu-page');
                }
            });
            submitOrderBtn.addEventListener('click', () => {
                const message = generateWhatsAppMessage();
                if (message) {
                    const phoneNumber = '5587999904732';
                    const whatsappUrl = `https://wa.me/${phoneNumber}?text=${message}`;
                    confirmationModal.classList.remove('hidden');
                }
            });
            deliveryOption.addEventListener('change', calculateTotal);
            sitioList.addEventListener('change', calculateTotal);
            closeModalBtn.addEventListener('click', () => {
                confirmationModal.classList.add('hidden');
                orderItems = [];
                updateCart();
                document.getElementById('client-name').value = '';
                document.getElementById('address').value = '';
                deliveryOption.value = 'local';
                sitioList.value = '0';
                calculateTotal();
                showPage('menu-page');
            });
            bottomNavMenuBtn.addEventListener('click', () => {
                showPage('menu-page');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            bottomNavCategoriesBtn.addEventListener('click', () => {
                toggleCategoryModal(true);
                updateBottomNavActiveState('categories');
            });
            bottomNavOrderBtn.addEventListener('click', () => showPage('order-page'));
            closeCategoryModalBtn.addEventListener('click', () => toggleCategoryModal(false));
            categoryModal.addEventListener('click', (e) => {
                if (e.target === categoryModal) {
                    toggleCategoryModal(false);
                }
            });
            modalCategoryLinks.forEach(link => {
                link.addEventListener('click', () => {
                    toggleCategoryModal(false);
                });
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                        });
                    }
                });
            }, { threshold: 0.5 });
            sections.forEach(section => {
                observer.observe(section);
            });

            updateCart();
            categoryModal.classList.add('opacity-0');
        });
    </script>
</body>

</html>
